# Chapter 02 프로그램의 기본구성



## 목차

- Hello world! 들여다보기
- 주석이 들어가야 완성된 프로그램
- printf 함수의 기본적인 이해
- 프로그래밍 문제의 답안



## Hello world! 들여다보기

```c
#include <stdio.h>

int main(void){
    printf("Hello world! \n");
    return 0;
}
```



> C언어의 기본단위인 '함수'의 이해

"C언어는 함수로 시작해서 함수로 끝난다." C언어로 프로그램을 작성하는 것은 __함수를 만들고 만든 함수들의 실행 순서를 결정하는 것__이다.  
__함수(function)__란 적절한 입력과 그에 따른 출력이 존재하는 것을 말한다.

함수에 관한 용어 몇 가지를 정리해보면

- 함수의 정의 : 만들어진 함수, 실행이 가능한 함수를 말한다.
- 함수의 호출 : 함수의 실행을 명령하는 것을 말한다.
- 인자의 전달 : 함수의 실행을 명령할 때 전달하는 입력 값을 말한다.

즉 인자의 전달은 함수의 호출과정에서 동시에 발생한다고 볼 수 있다.



> 예제 Hello.c에서의 함수는 어디에?

__정해진 순서에 의해서 진행되는 함수의 호출이 바로 프로그램의 흐름이다.__  
제일 먼저 호출되는 함수는 main이라는 이름의 함수로 프로그램이 실행되자마자 컴퓨터는 main이라는 함수를 찾아서 호출한다.  
따라서 C언어로 작성된 모든 프로그램에는 main이라는 이름의 함수가 정의되어야한다.  
위 예제의 main 함수를 살펴보자.

```
int main (void)

int - 출력 형태
main - 함수
void - 입력 형태
```

main 함수에서 int와 void는 각각 출력과 입력의 형태를 설명하는 것이다.

즉 __"출력의 형태가 int이고 입력의 형태가 void인 main이라는 이름의 함수"__

입력과 출력에 대한 정보가 함수의 어느 위치에 오는지 함수의 이름은 어디에 위치하는지 기억하자.  
이렇게 함수의 특성을 정의했다고 해서 함수가 되는 것은 아니다. 함수는 기능을 지녀야한다.  

```c
#include <stdio.h>

int main(void){
    printf("Hello world! \n");
    return 0;
}
```

위의 중괄호 내부는 2개의 문장으로 이루어져있는데, 이 문장들은 순차적으로 실행이 된다.  
즉, 중괄호 내부에 있는 문장은 그 수에 상관없이 순차적으로 실행된다.  
이렇게 함수의 기능을 정의하고 있는 영역을 가리켜 __함수의 몸체(body)__라고 한다.  
그리고 출력의 형태라는 표현은 함수임을 강조할 때 사용되며 실제로는 __반환형(return type)__이라는 표현이 주로 사용된다.



> 함수 내에 존재하는 문장의 끝에는 세미콜론 문자 ; 을 붙여준다.

main의 body는 두 문장으로 이루어져 있다.

```c
    printf("Hello world! \n");
    return 0;
```

각 문장의 끝을 살펴보면 ; 이 붙어있다. C언어는 문장의 끝을 표현하기 위해서 세미콜론을 사용한다.  
모든 문장에 세미콜론이 붙는 것은 아니다. 조건문이나 반복문과 같은 컨트롤 문장에는 세미콜론이 붙지 않는다.



> 표준 라이브러리와 printf 함수

main의 body에는 다음의 문장이 존재한다.

```c
    printf("Hello world! \n");
```

함수의 호출문에서 소괄호 안에는 함수호출 시 전달한 인자정보를 표현한다.  
그리고 C언어는 "를 이용하여 문자열을 표현한다.  
즉 위 문장은 "Hello world! \n"을 인자로 전달하며 함수 printf를 호출하는 문장이다.  
그런데 우리는 printf라는 함수를 만든적이 없다. printf 함수는 어떻게 호출된 것일까?

printf라는 함수는 문자열을 화면에 표시하는 기능을 가진 함수로 기본적으로 제공되는 함수이다.  
이렇게 기본적으로 제공되는 함수를 __표준함수__라 하고, 표준함수들의 집합을 __표준 라이브러리__라 한다.  
C언어는 많은 수의 표준함수를 제공하고 이를 이용하면 프로그램을 구현할 때 모든 함수를 직접 만들지 않아도 된다.



> 현 시점에 어울리는 '헤더파일 선언의 필요성'에 대한 설명

표준 함수의 호출을 위해서는 __헤더파일 선언__이라는 것을 해야 한다.  
위 예제에서 헤더파일 선언은

```c
#include <stdio.h>
```

위 문장은 stdio.h라는 헤더파일(.h)을 포함하라는 의미를 가진다.

__printf라는 표준함수는 stdio.h라는 헤더파일에 호출에 필요한 정보가 있기 때문에 stdio.h를 포함하라는 헤더파일 선언문이 삽입되어야 한다.__

헤더 파일의 선언은 소스 파일의 맨 앞부분, main의 함수 정의 이전에 와야 한다.



> return은 함수의 종료와 값의 전달(반환)이라는 두 가지 의미를 지닌다.

```
return 0;
```

위 문장을 가리켜 return문이라고 하는데 두 가지 의미를 지닌다.

- 함수를 호출한 영역으로 값을 전달(반환)
- 현재 실행중인 함수의 종료

따라서 위의 예제 Hello.c에서는 main 함수를 호출한 영역으로 0을 전달한 뒤 함수를 빠져나온다.  
그런데 main 함수의 종료는 프로그램의 종료로 이어지기 때문에 결론적으로 프로그램이 종료되게 된다.  

문제 1

다음과 같은 형태로 본인의 이름을 출력하는 프로그램을 작성해 보자. 단, printf 함수는 한 번만 호출해야 한다.

```
홍길동
홍 길 동
홍  길  동
```

[답안](./Chapter1Challenge/2-1.c)



문제 2

본인의 이름, 주소 그리고 전화번호를 모니터에 출력하는 프로그램을 작성해 보자. 총 3번의 printf 함수를 호출하여 작성하고 이스케이프 시퀸스 \n을 사용하여 모양을 다듬어라.

[답안](./Chapter1Challenge/2-2.c)



## 주석이 들어가야 완성된 프로그램

> 주석의 필요성

코드를 분석하는데에는 상당한 시간이 소요되기 때문에 프로그램을 분석하는 편의성을 증진시키기 위해 사용된다.



> 블록 단위 주석

C언어에서 주석을 사용하는 방법은 두 가지가 있다.

블록 단위 주석은 /* 와 */을 사용하여 시작과 끝을 명시하는 방법이다.

```c
/*
주석1
주석2
주석3
주석4
*/
```



> 행 단위 주석

행 단위 주석은 //을 사용하여 //뒤에 등장하는 문장을 주석 처리한다.

```c
//주석1
//주석2
```



> 예제 Hello.c에 주석 추가하기

```c
/*
title: Hello world 출력하기
function: 문자열의 출력
filename: Hellocomment.c
modified date: 2022.05.04
writer: pawn
*/
#include <stdio.h>    //헤더 파일 시작

int main(void) {
    /*
    이 함수 내에서는 하나의 문자열을 출력한다.
    문자열은 모니터로 출력된다.
    */
    printf("Hello world! \n");    //문자열의 출력
    return 0;    //0의 반환
}    //main 함수의 끝
```

주석은 간결해야 하므로 위 예시와 같이 복잡한 주석은 오히려 마이너스가 된다.



> 주석처리에 있어서의 주의점

```c
/*
    주석처리 된 문장1
    /*단일 행 주석처리 */
    주석처리 된 문장2
*/
```

위의 예시처럼 블록 단위 주석은 중첩될 수 없다.

```c
/*
	주석처리 된 문장1
	// 단일 행 주석처리
	주석처리 된 문장2
*/
```

그러나 위 예시처럼 행 단위 주석은 블록 단위 주석의 내부에 포함될 수 있다.



## printf 함수의 기본적인 이해

> printf 함수를 이용한 정수의 출력과 서식문자

printf 함수를 이용하면 문자열 이외의 데이터를 다양한 형태로 출력하는 것이 가능하다.  

```c
#include <stdio.h>

int main(void){
    printf("Hello Everybody\n");
    printf("%d\n", 1234);
    printf("%d %d\n", 10, 20);
    return 0;
}
```

```
실행 결과
Hello Everybody
1234
10 20
```

실행 결과를 통해서 printf 함수를 통해 문자열도, 정수 데이터도 출력이 가능함을 알 수 있다.  
5행을 보면 __"printf 함수는 첫 번째 인자로 전달된 문자열을 출력한다."__ 라는 사실을 알 수 있다.  
6행도 마찬가지로 printf 함수의 첫 번째 인자로 문자열을 전달하면서, 출력을 요청하는 문장이다.  
그런데 문자열의 형태가 다음과 같다.

"%d \n"

문자열에서 처음 등장하는 것이 %d이다. 이러한 문자를 가리켜 __"서식문자(conversion specifier)"__라 하는데,  
이는 출력의 형태를 지정하는 용도로 사용이 된다.  
출력의 형태를 지정하려면 출력의 대상이 필요하다. 6행을 보면 함수의 호출문에 두 번째 인자가 있음을 알 수 있다. __(함수호출 시 전달되는 인자는 ,로 구분한다.)__ 바로 이 인자가 출력의 대상이 된다.  
%d가 지정하는 출력의 형태는 __10진수 정수형태의 출력__을 의미한다.  
따라서 printf 함수호출 시 전달된 두 번째 인자가 %d의 위치에서 10진수 정수로 출력되고, 이어서 나오는 \n이 출력된다. (물론 \n은 개행을 의미하므로 별 다른 출력없이 개행만 이루어진다.)  
이어서 7행의 printf 함수의 호출문은 문자열 안에 서식문자 %d가 두 개 존재하므로, 두 개의 출력대상이 두 번째, 세 번째 인자로 각각 전달되고 있다는 것을 알 수 있다.



> 출력의 형태를 다양하게 조합하는 것이 가능하다.
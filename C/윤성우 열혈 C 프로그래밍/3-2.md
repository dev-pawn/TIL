# 포인터의 포인터



## 목차

- [포인터의 포인터에 대한 이해](#포인터의-포인터에-대한-이해)
- 다중 포인터 변수와 포인터의 필요성



## 포인터의 포인터에 대한 이해

포인터의 포인터는 포인터 변수를 가리키는 또 다른 포인터 변수를 뜻하는 것으로서 흔히 __이중 포인터__ 또는 __더블 포인터__ 라고 부르며,  
다음과 같이 포인터 변수 선언에 사용되는 * 연사자를 두 개 이어서 선언한다.

```c
int ** dptr
```



> 포인터 변수를 가리키는 이중 포인터 변수(더블 포인터 변수)

포인터 변수는 종류에 상관없이 무조건 주소 값을 저장하는 변수이다. 다만 차이가 나는 것은 포인터 변수가 가리키는 값일 뿐이다.  
아래 코드를 보자.

```c
int main(void)
{
	double num = 3.14;
	double *ptr = &num;		// 변수 num의 주소 값 저장
	....
}
```

위의 코드에서 변수 num과 포인터 변수 ptr의 차이점과 공통점은  

- 공통점 = 둘 다 변수이다. 따라서 값의 저장이 가능하다.
- 차이점 = 저장하는 값의 종류(유형)이 다르다.

이렇듯 ptr도 메모리에 공간이 할당되는 변수이다. 따라서 이를 대상으로도 & 연산이 가능하며,  
이 때 반환되는 주소 값은 double형 더블 포인터 변수에 저장이 가능하다.  
때문에 싱글 포인터 변수 ptr을 대상으로 다음과 같은 문장의 구성이 가능하다.

```c
double ** dptr = &ptr;
```

그리고 위의 문장을 추가함으로써 포인터 변수 ptr과 dptr, 그리고 변수 num의 관계는 다음과 같이 표현이 된다.

```
dptr → ptr → num(3.14)
```

그리고 위 상태에서는 dptr을 대상으로 다음과 같은 방식으로 포인터 변수 ptr과 변수 num에 접근이 가능하다.

```
*dptr = ....;		// *dptr은 포인터 변수 ptr을 의미함
*(*dptr) = ....;	// *(*dptr)은 변수 num을 의미함
```

그리고 `*(*dptr)`에서 괄호는 생략이 가능하기 때문에 **dptr로 표현이 가능하며, 이것이 보다 일반적인 표현이다.  
이와 관련해서 예제를 살펴보자.



DoublePointerAccess.c

```c
#include <stdio.h>

int main(void)
{
	double num = 3.14;
    double *ptr = &num;
    double **dptr = &ptr;
    double *ptr2;
    
    printf("%9p %p \n", ptr, *dptr);
    printf("%9p %9g \n", num, **dptr);
    ptr2 = *dptr;		// ptr2 = ptr 과 같은 문장
    printf("%9g %9g \n", num, **dptr);
    return 0;
}
```



실행 결과

```C
0032FD00 0032FD00
	3.14     3.14
   10.99    10.99
```

 위 예제에서 변수 num에 접근하는 방법은 총 4가지가 존재한다.  
**dptr = 10.1;			// 변수 num에 10.1이 저장됨  
*ptr = 20.2;				// 변수 num에 20.2가 저장됨  
*ptr2 = 30.3;			 // 변수 num에 30.3이 저장됨  
num = 40.4;			  // 변수 num에 40.4가 저장됨



> 포인터 변수 대상의 Call-by-reference


# 데이터 정의어와 무결성 제약조건



## 목차

- [데이터 정의어](#데이터-정의어)
- 제약조건



## 데이터 정의어

![](./image/ddl.jpg)



### ○ 스키마의 생성과 제거

일반적으로 스키마는 특정 사용자의 데이터베이스 응용에 속하는 릴레이션, 도메인, 제약조건, 뷰, 권한 등을 그룹화한 것이다.

각 사용자는 권한을 허가받지 않는 한 다른 사용자의 스키마에 속한 데이터를 볼 수 없다.

__스키마는 CREATE SCHEMA문을 사용하여 생성__한다.

아래 문장은 TEST라는 계정을 가진 사용자가 TEST_DB라는 스키마를 생성한다.

```sql
CREATE SCHEMA TEST_DB AUTHORIZATION TEST;
```

여러 DBMS에서, 사용자를 생성하면 DBMS는 그 사용자에 대한 스키마를 자동적으로 할당한다.



기존의 __스키마를 제거 하려면 DROP SCHEMA문__을 사용한다.

스키마가 __비어 있지 않으면 DBMS가 DROP SCHEMA문을 거절__한다.

```sql
DROP SCHEMA TEST_DB;
```



### ○ 릴레이션 정의

SQL에서 __릴레이션을 정의하는 문은 CREATE TABLE문__이다.

```sql
CREATE TABLE DEPARTMENT
(DEPTNO	NUMBER	NOT NULL,
DEPTNAME CHAR(10),
FLOOR	NUMBER,
PRIMARY KEY(DEPTNO));

CREATE TABLE EMPLOYEE
(EMPNO	NUMBER	NOT NULL,
EMPNAME	CHAR(10),
TITLE	CHAR(10),
MANAGER	NUMBER,
SALARY	NUMBER,
DNO		NUMBER,
PRIMARY KEY(EMPNO),
FOREIGN KEY(MANAGER) REFERENCES EMPLOYEE(EMPNO),
FOREIGN KEY(DNO) REFERENCES DEPARTMENT(DEPTNO));
```

EMPLOYEE 릴레이션과 DEPARTMENT 릴레이션을 생성하는 기본적인 CREATE TABLE문은 위와 같다.

CREATE TABLE문에서 __한 릴레이션에 속하는 애트리뷰트들의 이름과 데이터 타입을 명시__한다.
애트리뷰트는 디폴트로 널값을 가질 수 있으므로 기본 키처럼 널값을 허용하지 않는 애트리뷰트에 대해서는 'NOT NULL'을 지정해야 한다.
또한 __어떤 애트리뷰트가 기본 키__이고, __어떤 애트리뷰트가 외래 키__로서 다른 릴레이션의 기본 키를 참조하는가를 __명시__한다.
CREATE TABLE문의 __수행결과로 빈 릴레이션__이 만들어진다.




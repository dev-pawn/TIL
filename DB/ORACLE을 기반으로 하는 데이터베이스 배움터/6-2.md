# 버퍼 관리와 운영 체제

데이터베이스는 일반적으로 너무 커서 주기억 장치에 적재할 수 없으므로 보조 기억 장치에 저장한다.  
디스크 입출력은 컴퓨터 시스템에서 가장 속도가 느린 작업이므로 입출력 횟수를 줄이는 것이 DBMS의 성능을 향상시키는데 매우 중요하다.  
가능하면 많은 블록들을 주기억 장치에 유지하거나 자주 참조되는 블록들을 주기억 장치에 유지하면 블록 전송 횟수를 줄일 수 있다.  
버퍼는 디스크 블록들을 저장하는 데 사용되는 주기억 장치 공간이다. 버퍼 관리자는 운영 체제의 구성요소로서 주기억 장치 내에서 버퍼 공간을 할당하고 관리하는 일을 맡는다.

데이터베이스 전체를 주기억 장치에 유지할 수 없으므로 한정된 버퍼 공간에 어느 블록들을 주기억 장치에 유지할 것인가?  
운영 체제에서 버퍼 관리를 위해 흔히 사용되는 알고리즘에서는 버퍼가 꽉 찼을 때 새로운 블록을 디스크에서 읽어오려면,  
버퍼내에서 __가장 오래 전에 참조된 블록(LRU : Least Recently Used)__ 을 먼저 디스크로 내보내고, 그 자리에 지금 필요한 블록들을 읽어온다.  
즉 LRU 알고리즘에서는 블록 전송 횟수를 줄이기 위해서 주기억 장치 내의 버퍼에 최근에 접근된 블록들을 유지한다.  
이렇게 함으로써 어떤 블록에 대한 요청은 디스크를 접근할 필요 없이 주기억 장치 내의 버퍼로 만족시킬 수 있다.  
그러나 LRU는 데이터베이스를 위해 항상 우수한 기능을 보이지는 않는다.

DBMS는 응용에서 필요로 하는 데이터를 포함하고 있는 디스크 블록을 주기억 장치 내의 버퍼로 읽어오고, 버퍼 내에서 사용자가 필요로 하는 데이터를 찾아서 응용에게 전달하는 과정을 거친다.  
응용에서 데이터를 갱신하는 요청은 버퍼에서 그 데이터를 갱신하고, 갱신된 버퍼를 디스크에 기록하면 된다.


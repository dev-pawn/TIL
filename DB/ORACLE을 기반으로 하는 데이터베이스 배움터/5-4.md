# 논리적 설계: ER 스키마를 관계 모델의 릴레이션들로 사상

개념적 살계 단계에서 ER 모델을 사용하여 조직체의 데이터베이스 어플리케이션을 위한 개념적 스키마를 생성하였으면,  
논리적 설계 단계에서는 ER 스키마를 관계 스키마를 관계 데이터 모델의 릴레이션들로 사상해야 한다.  
ER 데이터 모델을 기반으로 한 상용 DBMS가 없고 또한 대부분의 DBMS는 관계 데이터 모델을 기반으로 하기 때문에 ER 스키마를 관계 데이터 모델로 변환해야 한다.  
ER 스키마에는 엔티티 타입과 관계 타입이 존재하지만 관계 데이터베이스에는 엔티티 타입과 관계 타입을 구분하지 않고 릴레이션들만 들어 있다.

릴레이션으로 사상할 대상이 ER 스키마에서 엔티티 타입인지 또는 관계 타입인지,  
엔티티 타입이라면 정규 엔티티 타입인지 또는 약한 엔티티 타입인지,  
관계 타입이라면 2진 관계 타입인지 3진 이상의 관계 타입인지,  
관계 타입의 카디날리티가 1:1인지 또는 1:N인지 또는 M:N인지,  
애트리뷰트가 단일 값 애트리뷰트인지 또는 다치 애트리뷰트인지 등에 따라 사상하는 방법이 달라진다.

본 절에서는 ER 모델을 릴레이션들로 사상하는 7개의 단계로 이루어진 알고리즘을 설명한다. 각 단계를 거침에 따라 릴레이션들이 생성된다.  
먼저 ER 스키마에 존재하는 각 엔티티 타입들을 릴레이션들로 나타내고, 엔티티 타입을 설명하는 데 사용되는 애트리뷰트들을 릴레이션에 포함시킨다.  
그 다음에 외래 키를 사용하거나 별도의 릴레이션을 생성하여 관계 타입을 나타낸다.  
각 릴레이션에서 기본 키와 외래 키를 식별하는 작업은 다른 작업과 병행해도 좋다.

사용자가 아래의 7개의 단계들을 직접 따라가면서 많은 수의 엔티티 타입과 관계 타입들이 포함되어 있는 ER 스키마를 릴레이션들로 사상하는 것은 쉽지 않다.  
대부분의 CASE 도구들이 자동적으로 ER 스키마를 릴레이션들의 지합으로 변환한다.  
릴레이션의 이름은 대응되는 엔티티 타입이나 관계 타입의 이름을 따른다.

본 절의 알고리즘을 따라 ER 스키마를 릴레이션들의 집합으로 사상하는 것이 관계 DBMS에 릴레이션들을 생성하기 위한 최종 작업은 아니다.  
본 절의 알고리즘을 통해 생성된 릴레이션들은 정보의 중복과 갱신 이상 등의 문제를 유발할 수 있다.  
따라서 7장에서 논의할 정규화를 거쳐서 관계 스키마를 좀 더 훌륭한 관계 스키마로 정제해야 한다.

각 릴레이션은 (원자적) 애트리뷰트에 대응되는 애트리뷰트들을 갖는다. 이 애트리뷰트들은 각각 고유한 이름을 갖는다.  
릴레이션의 한 애트리뷰트는 ER 스키마의 애트리뷰트와 동일한 도메인을 갖는다.  
본 절에서는 아래 그림과 같이 논리적 설계 단계에서 수행되는 작업을 중점적으로 상세하게 논의한다.

![](./image/5-4/ex1.jpg)

아래 표는 알고리즘의 각 단계에서 릴레이션으로 사상되는 ER 스키마의 대상을 요약하여 나타낸다.

![](./image/5-4/ex2.jpg)



## 목차

- ER-릴레이션 사상 알고리즘
- 데이터베이스 설계 사례에 알고리즘 적용



## ER-릴레이션 사상 알고리즘


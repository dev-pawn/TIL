# 네트워크 장비에 관한 이야기



## 목차

- 랜카드도 세팅해야 되나요?
- 허브 이야기 그 첫 번째
- 허브의 한계
- 허브 이야기 그 두 번째
- 허브의 끝과 스위치의 시작
- 험한 세상의 브리지(다리?) 되어 그대 지키리
- 브리지/스위치의 기능
- Looping(뺑뺑이)은 왜 생길까요?
- 스패닝 트리되지 않는 스위치는 팥 없는 찐빵!
- 라우팅이냐, 스위칭이냐?



## 랜카드도 세팅해야 되나요?

이번 주제는 NIC(Network Interface Card)입니다. 보통 '랜카드'라고 하는 우리 주변에서 가장 많이 볼 수 있는 네트워크 장비입니다.

제가 네트워크를 처음 시작하던 시절에도 랜카드는 있었습니다. 물론 지금과는 많이 달랐지만 말입니다.  
지금이야 PC에 랜카드를 꽂고 전원을 껏다가 다시 켜면 PC가 알아서 랜카드를 인식하고, 알아서 필요한 프로그램을 설치하고 네트워크에 연결해주는 아주 좋은 기능인 플러그 앤 플레이(Plug and Play 또는 P&P라고 합니다.)를 지원해 주지만, 옛날(?)에는 정말 하나하나 전부 사람이 해야 했습니다.

랜카드의 모든 세팅은 점퍼 형식으로 되어 있어서 랜카드의 점퍼를 하나씩 하나씩 조정해가면서 해주던 IRQ(Interrupt Request) 넘버의 세팅이나 Base Memory 등의 세팅은 고도의 인내심과 직감력(?)을 필요로 했기 때문에 이 작업을 제대로 해주려면 랜카드 한 장당 숙련된 엔지니어가 약 30분은 매달려야 했습니다.  
이런 랜카드는 아주 중요한 역할을 해주는 것입니다. 즉 유저의 데이터를 케이블에 실어서 허브나 스위치, 혹은 라우터 등으로 전달해주고 자신에게 온 데이터를 CPU에게 전달해주는 역할을 합니다.

이런 랜카드는 우선 어떤 환경에서 사용하는가에 따라서 이더넷용 랜카드와 토큰링용 랜카드, 그리고 FDDI, ATM용 랜카드 등으로 구분합니다.  
하지만 대부분의 환경에서는 이더넷용을 사용하기 때문에 아마 여러분 PC에 설치된 랜카드나 사무실에 설치된 랜카드의 90% 이상은 이더넷용 랜카드일 겁니다. 여기서도 이더넷용 랜카드를 위주로 알아보도록 하겠습니다.

대부분 랜카드라고 하면 '랜에 접속하기 위한 카드처럼 생긴 것이다.'라고 생각하면 딱 맞을 겁니다. 이것을 어디에 설치하는가에 따라서 데스트톱용 랜카드(아래 그림에 보이는 게 모두 데스크톱용 랜카드입니다.)와 PCMCIA 방식이라고 하는 노트북용 랜카드가 있습니다.  
물론 이외에도 프린터 포트에 연결하는 외장형 랜카드나 USB 포트에 연결하는 방식이 있기도 하지만 자주 사용하는 방식은 아닙니다.  
데스크톱용이나, 느트북용이나, 프린터 포트용이나 모양은 다르지만 하는 일은 똑같습니다. 다만 PC와 연결할 때 접속하는 방법에 차이가 있다고 생각하면 됩니다.  
하지만 하는 일이 다 똑같다고 아무거나 사서 쓰면 안 됩니다. 자신이 가지고 있는 PC에 맞는 걸 사야 합니다. 괜히 데스크톱 PC에 설치할 랜카드를 노트북용으로 샀다가는 쓸모없게 되기 때문입니다.

데스크톱용 랜카드를 선택하는 경우에는 또 하나 생각해야 할 것이 있습니다. 바로 PC의 버스(Bus) 방식입니다. PC의 버스 방식은 크게 3가지 정도로 나누어 볼 수 있는데, 현재 가장 많이 사용하고 있는 방식이 PCI 방식이고 이전까지는 ISA('아이사'라고 읽습니다.) 방식을 많이 사용했습니다.  
자주는 아니지만 간혹 서버급 PC에서는 EISA('이아이사'라고 읽는데 Enhanced ISA입니다.) 방식의 버스도 있습니다. 여기서 말하는 버스는 컴퓨터에서 데이터가 날아다니는 길을 말합니다.  
이렇게 버스 이야기를 드리는 것은 랜카드 역시 PC의 버스 방식에 맞는 것을 설치해야 하기 때문입니다. 자기 PC는 ISA 생산인데 랜카드는 PCI 방식을 설치하려고 한다면 그건 불가능합니다.

제가 지금까지 랜카드에 대해 설명해드렸지만, 요즘은 아마 랜카드 자체를 아직 못 보신 분들도 있을 겁니다. 왜냐하면 랜카드가 이미 컴퓨터 안에 설치되어 제작되었기 때문입니다.  
카드 형태로 된 것도 있고, 메인보드에 붙어있는 것도 있지만 이렇게 랜카드에 대해 배우는 건 네트워크킹의 가장 기초가 되기 때문입니다.

일단 어디에 설치하는가에 따른 구분을 알아봤습니다. 이번에는 속도에 따른 구분입니다. 이더넷 랜카드의 경우는 속도에 따라 크게는 10메가, 100메가, 10/100메가, 1기가 등으로 나눌 수 있습니다.  
몇 년 전까지만 해도 10Mbps용 랜카드가 일반적이었습니다. 그런데 요즘은 100Mbps 또는 1Gbps용 랜카드가 거의 대부분입니다. 이는 네트워크 대역폭, 즉 네트워크상에서 날아다니는 데이터의 양이 그만큼 더 많아졌다는 것을 의미합니다.  
여기서 여러분은 10Mbps나 100Mbps라고 하는 의미를 아실 겁니다. 그래도 한번 살펴보자면 10Mbps는 데이터의 전송 속도가 1초에 10,000,000bit라는 것을 의미합니다.  
근데 이것은 뒤에 붙은 단위가 bit이기 때문에 보통 파일의 크기를 나타내는 값인 Byte로 바꾸어보면 1바이트=8비트이기 때문에 8로 나누어 주면 됩니다.  
즉 10,000,000/8 = 1,250,000바이트 입니다. 다시 말해서 1초에 1MB(메가바이트) 정도의 파일을 전송할 수 있는 겁니다. 굉장히 빠른 속도죠? 하지만 실제 상황에서는 차이가 있습니다.  
레이어에서 보면 순수한 데이터에 앞뒤로 이것저것이 붙어 다니고 이외에도 많은 Overhead가 있기 때문에 실제는 이런 속도가 나오지는 않습니다. 언제나 이론과 실제는 차이가 있다는 것을 알아두기 바랍니다.

또 랜카드에 접속하는 케이블의 종류에 따라서 TP 포트를 가진 랜카드, BNC나 AUI 포트를 가진 랜카드, 광케이블과 접속하는 랜카드 등의 종류로 나누어 볼 수 있습니다.

![](./img/1-4/ex1.jpg)

위 그림을 보면 우리가 자주 사용하고 았는 랜카드가 나와 있습니다.

예전에는 주로 AUI 타입의 커넥터와 BNC용 커넥터가 있는 방식을 많이 사용했습니다. 그리고 나서 한동안은 위 그림에서 오른쪽에 보이는 콤보(combo) 방식을 많이 쓰기도 했습니다.  
AUI와 BNC, 그리고 UTP를 모두 골라서 연결할 수 있는 타입이 바로 이 방식의 랜카드입니다. 한마디로 과도기적인 랜카드라고 볼 수 있습니다. 하지만 요즘에는 AUI나 BNC를 사용하는 사람이 거의 없는 편이니 주로 위에 보이는 UTP 타입을 쓰는 것이 일반적입니다.  
하지만 어떤 경우에는 위에 보이는 것처럼 광케이블을 직접 연결할 수 있게 만들어진 것도 있다는 것을 알아두면 좋겠습니다.

자신의 랜카드 정보를 보고 싶으신 분은 [시작] 버튼 :arrow_forward: [제어판] :arrow_forward: [시스템 및 보안] :arrow_forward: [시스템] :arrow_forward: [장치 관리자]로 들어가서 [네트워크 어댑터 정보]를 보시면 됩니다.  
여기서 랜카드를 선택하고 더블클릭하면 몇 가지 정보가 나오는데, 이때 [리소스]란 것을 누르면 입출력 범위, 인터럽트 요청, 메모리 범위 등이 나타납니다.  
이게 바로 아까 말씀드린 IRQ(인터럽트 요청), Base Memory(메모리 범위)입니다. 아래 그림에서도 보이시죠? 지금 보이는 대로 이런 값은 내가 목적지인 데이터(목적지 주소가 자신의 랜카드 맥 어드레스와 일치하는 데이터)가 들어왔을 때 랜카드는 컴퓨터의 CPU에 자기가 가지고 있던 IRQ를 이용해서 인터럽트를 걸게 됩니다.  
즉 CPU에 하던 일을 멈추고 자신의 일을 해줄 것을 요청하는 거죠. 그럼 CPU는 IRQ 번호를 보고 '아! 이 인터럽트는 랜카드가 요청한 서비스구나!' 이렇게 생각하는 겁니다. 그리고 이 데이터에 어떤 서비스를 할 것인지를 미리 정해놓는 장소(이게 Base Memory쪽이죠)로 이동해서 작업을 시작하는 겁니다.

이때 만일 이 IRQ가 다른 서비스를 위해 이미 예약된 번호였다면(이 경우를 우리는 'IRQ가 쫑났다!'라고 하죠) 랜카드를 인식하지 못하게 되는 겁니다.  
요즘은 랜카드를 꼽고 부팅을 하면 PC가 자동으로 안 쓰는 IRQ를 배정해주지만, 전에는 사람이 안 쓰는 IRQ를 하나하나 다 찾아내야 했던 시절이 있었습니다. '점퍼 세팅'이라고 랜카드에 있는 점퍼를 하나씩 바꿔가면서 말입니다.

![](./img/1-4/ex2.jpg)



## 허브 이야기 그 첫 번째

허브(HUB)란 무엇일까요?

다음 그림에도 보이지만 허브는 직사각형의 상자에 구멍이 뚫려있는 모양으로 되어 있습니다. 이 구멍이 몇 개 뚫려있느냐에 따라서 '몇 포트 허브다'라고 이야기하고, 이 구멍의 숫자가 바로 몇 대의 장비를 연결할 수 있는지를 결정하게 됩니다.  
즉 랜카드가 설치된 각각의 PC들은 케이블을 타고 바로 이 허브에 연결되는 겁니다. 그리고 같은 허브에 연결된 PC끼리는 서로 통신이 가능합니다.

그렇다면 예를 들어 구멍 10개짜리 허브가 있는데, 18대의 PC를 연결하려면 어떻게 해야 할까요?  
첫 번째 해결 방법은 구멍이 18개 이상 되는 허브를 따로 1대 사는 것입니다. 간단하긴 하지만 이 방법을 사용할 경우 기존에 가지고 있던 구멍 10개짜리 허브를 사용하지 못하기 때문에 절대 권하지 않는 방법입니다.

두 번째 방법은 구멍이 10개인 허브 1대를 더 산 후 이 2대를 서로 연결하고 2대의 허브에 PC를 연결하는 방법입니다. 즉 허브는 서로 연결을 하게 되면 마치 1대의 허브처럼 동작이 가능합니다. 하지만 여기에도 제한 사항이 있기 때문에 무조건 허브를 사서 연결만 한다고 되는 건 아닙니다.

허브 역시 랜카드처럼 이더넷용과 토큰링용이 있고, 이더넷 허브도 속도에 따라 그냥 허브(10Mbps)dㅘ 패스트(100Mbps) 허브가 있습니다.  
물론 가격은 패스트 허브가 더 비싸겠죠? 혹시 100Mbps 랜카드를 설치하신 분이 허브는 10Mbps용을 사용하신다면 당연히 통신속도는 10메가이기 때문에 랜카드에 맞는 허브를 선택하는 것이 중요합니다.  
허브는 네트워크에서 약방에 감초처럼 없으면 안 되는 가장 기본이 되는 장비 중 하나입니다. (물론 요즘은 스위치란 것이 하도 싸서 네트워크 장비에서 허브를 찾아보기 어렵게 됐지만, 그래도 배우는 단계에서 허브를 무시하면 안됩니다.)  
예를 들어, 랜카드, 케이블, 그리고 허브만 있으면 일단 내부에서는 허브에 접속된 모든 PC가 서로 통신이 가능하다는 겁니다. (물론 외부 인터넷은 못 나가지만 말입니다.)

그럼 허브는 무슨 일을 할까요?

허브를 한마디로 이야기하면 '멀티포트(Multiport) 리피터(Repeater)'라고 말할 수 있습니다.  
멀티포트는 말 그대로 포트가 많이 붙어있다는 뜻이고, 리피터는 들어온 데이터를 그대로 재전송한다는 의미를 가지고 있으니까 허브는 포트가 여러 개 달린 장비인데, 이것은 한 포트로 들어온 데이터를 나머지 모든 포트로 뿌려준다는 겁니다.

여기서 잠깐 리피터에 대해서 알아보도록 하겠습니다. 네트워크에서 데이터를 전송하는 경우 케이블에 따라서 전송 거리에는 제약이 있습니다.  
예를 들어, 우리가 현재 가장 많이 사용하고 있는 UTP 케이블의 경우는 최대 전송 거리가 100미터입니다. 즉 장비와 장비 사이가 100미터 이상 떨어져 있는 경우에는 통신이 불가능하다는 겁니다. (물론 100미터를 넘어서 통신이 되는 경우도 있지만 이건 완전한 통신을 보장할 수 없기 때문에 권하지 않습니다.)  
또 광케이블의 경우에도 케이블에 따라 차이는 있지만 수백 미터에서 수 킬로미터까지 제한되어 있습니다. 그렇다면 이 경우 케이블이 갈 수 있는 최대 거리 이상 떨어진, 예를 들어 두 장비 간의 거리가 150미터인 경우 두 장비 간은 UTP 케이블로 연결하려면 어떻게 해야 할까요?

그때 중간에서 들어온 데이터를 다른 쪽으로 전달해 주는 역할을 하는 것이 바로 리피터입니다.  
음성 통신의 경우 엠프라고 하는 것이 멀리 떨어진 곳에 소리를 전달하기 위해 쓰이는 것처럼 데이터는 중간에 리피터가 있어서 한쪽에서 들어온 데이터를 그대로 다른 쪽으로 전달해주는 겁니다.  
따라서 중간에 리피터를 두고 두 장비는 케이블을 통해서 리피터로 연결하면 둘 간의 통신이 가능해지게 됩니다. 지금 설명드리고 있는 허브는 바로 이런 리피터의 기능도 가지고 있습니다.

예전만해도 리피터는 자주 사용되곤 했습니다. 그런데 이제는 허브가 그 역할을 대신하다 보니(그리고 허브 가격이 너무 싸졌기 때문일 겁니다.) 리피터를 만나기가 쉽지 않습니다.

이번에는 그림을 보면서 설명을 드리도록 하겠습니다. 허브에 1번에서 5번까지의 PC가 붙어 있는데, 만약 1번 PC가 2번 PC에 데이터를 전송하는 경우를 예로 들어보지요.
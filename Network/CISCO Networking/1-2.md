# 네트워크와 케이블, 그리고 친구들



## 목차

- LAN(Local Area Network)이란?
- 이더넷은 인터넷의 친구?
- 그럼 토큰링(TokenRing)은요?
- UTP 케이블만이라도 제대로 알아볼까요?
- 케이블, 이 정도만 알면
- 맥 어드레스(MAC Address)에 대한 이야기
- 유니캐스트, 브로드캐스트, 멀티캐스트
- OSI 7 Layer(레이어, 계층)는 왜 만들어졌나요?
- 컴퓨터는 프로토콜(Protocol)로 말한다



## LAN(Local Area Network)이란?

네트워크를 하다 보면 가장 먼저 만나는 것이 'LAN'이란 단어입니다.

LAN이란, 네트워크에서 가장 자주 나오는 말로 'Local Area Network'의 약자로 Local, 즉 '어느 한정된 공간에서 네트워크를 구성한다'는 것입니다.

예를 들어 한 사무실에 컴퓨터가 30대 있는데, 이것들을 네트워크로 구성한다면 '사무실에 LAN을 구축한다'라고 말합니다.

LAN과 비교되는 말로 WAN이 있습니다.

WAN은 'Wide Area Network'의 약자로서 '멀리 떨어진 지역을 서로 연결하는 경우'에 사용합니다.  
요즘은 모두 인터넷을 쓰는 세상이니 인터넷에 접속하는 것은 WAN이라고 봐야 할 겁니다. 그래서 요즘은 네트워킹을 한다고 하면 주로 LAN과 WAN이 공존합니다. 예전처럼 랜이나 왠을 설치한다고 하는 대신에 '네트워킹을 한다'라고 말하는게 요즘 추세입니다.

마무리 하자면 LAN은 한정된 지역 안에서의 네트워크 구축이고, WAN은 서로 멀리 떨어진 곳을 네트워크로 연결하는 것입니다.



## 이더넷은 인터넷의 친구?

그럼 이더넷(Ethernet)은 또 뭘까요? 이더넷은 네트워킹의 한 방식입니다. 즉 네트워크를 만드는 방법 중 하나라고 생각하면 됩니다. 이러한 이더넷 방식의 가장 큰 특징은 CSMA/CD라는 프로토콜을 사용해서 통신을 한다는 것입니다.

생각보다 알아야 할 것이 많아지지만 우리나라에서 사용하는 대부분의 네트워킹 방식이 바로 이런 이더넷 방식이기 때문에 이더넷에 대해 어느 정도 이해해야 합니다.

예를 들어보면, 네트워킹 방식은 이더넷 방식 말고도 토큰링 방식도 있었고, FDDI 방식도 있었으며, ATM방식도 있었습니다. 어떤 네트워킹 방식을 사용하느냐에 따라 랜카드를 비롯하여 구입해야 하는 네트워크 장비들이 다릅니다.

다시 말해, 자신의 네트워킹 방식을 모르고는 랜카드 한 장도 함부로 살 수 없습니다. 그러므로 네트워킹이 어떤 방식인지와 어떤 식으로 통신을 하는지를 알아두면 훨씬 도움이 될 것입니다.

이더넷의 CSMA/CD라는 통신 방식에 대해서 한번 알아보겠습니다.

CSMA/CD는 'Carrier Sense Multiple Access/Collision Detection'을 줄여서 부르는 방식입니다.  
이 통신 방식을 한 마디로 이야기하자면 '대충 알아서 눈치로 통신하자'입니다. 이것이 무슨 말인지 살펴보겠습니다.

이더넷 환경에서 통신을 하고 싶은 PC나 서버는 먼저 지금 네트워크상에 통신이 일어나고 있는 지를 확인합니다.  
즉 우리 네트워크 자원을 쓰고 있는 PC나 서버가 있는지를 확인해보는 것입니다.  
이것은 다시 말하면 캐리어(네트워크상에 나타나는 신호)가 있는지를 감지하는 겁니다. 이것을 바로 'Carrier Sense'라고 합니다.  
이때 만약 캐리어가 감지되면, 다시 말해서 누군가가 네트워크상에서 통신을 하고 있으면 자기가 보낼 정보가 있어도 못 보내고 기다립니다. 그러다가 네트워크에서 통신이 없어지면(이때는 캐리어가 감지되지 않음) 눈치를 보다가 무조건 자기 데이터를 네트워크상에 실어서 보냅니다.

그런데 만약 네트워크상에서 두 PC나 서버가 보낼 데이터를 가지고 눈치를 살피고 있었다고 가정해보겠습니다.  
그러다가 네트워크상에서 통신이 일어나지 않고 있다는 것을 알아낸 뒤, 바로 자신의 데이터를 네트워크상에 실어서 보냈습니다. 물론 두 PC나 서버가 그것도 동시에 말입니다.  
이더넷에서는 이렇게 2개 이상의 PC나 서버가 동시에 네트워크상에 데이터를 실어 보내는 경우가 발생할 수 있습니다. 이 경우를 바로 'Multiple Access(다중 접근)'라고 합니다.

통신에서 이렇게 2개의 장비들이 데이터를 동시에 보내려다 부딪치는 경우를 충돌(콜리전, Collision)이 발생했다고 합니다.  
따라서 이더넷에서는 데이터를 네트워크에 실어서 보내고 나서도 혹시 다른 PC 때문에 콜리전이 발생하지 않았는지를 잘 점검해야 합니다.  
그것이 바로 'Collision Detection(충돌 감지)'이라는 겁니다. 그러다 만약 콜리전이 발생하게 되면 데이터를 전송했던 PC들은 랜덤(Random)한 시간 동안 기다린 후 다시 데이터를 전송하게 됩니다.  
여기서 랜덤한 시간이란, 우리가 느끼지 못할 만큼 작은 시간입니다.

암튼 콜리전, 즉 충돌이 발생하면 다시 보낸다는 겁니다. 그런데 이렇게 기다렸다가 보내도 또 충돌이 발생했다면 어떻게 할까요? 네, 또 기다렸다가 보냅니다. 충돌이 생기면 기다렸다 다시 보내고, 또 충돌이 나면 기다렸다 다시 보내고, 이렇게 15번을 했는데도 충돌이 나면 그냥 포기하게 됩니다.

따라서 이더넷에서 충돌, 즉 콜리전이 발생하는 것은 이더넷의 CSMA/CD라는 특성상 자연스러운 일이지만, 너무 많은 충돌이 발생하게 되면 통신 자체가 불가능해지는 경우도 생길 수 있습니다.  
이런 문제를 어떻게 하면 방지할 수 있는지는 다음에 계속 알아보도록 하겠습니다.



## 그럼 토큰링(TokenRing)은요?

그럼 이번에는 토큰링에 대해서 알아보겠습니다.  
토큰링 방식의 네트워크에서 데이터를 전송하고자 하는 PC는 이더넷처럼 자기 맘대로 보내고 싶을 때 남들이 전송만 하지 않고 있으면 막 보내는게 아닙니다.  
그 네트워크에서 오직 한 PC, 즉 토큰을 가진 PC만이 네트워크에 데이터를 실어 보낼 수 있는 겁니다. (일반적으로 한 네트워크에 토큰이 하나만 존재, 물론 여러 개인 경우도 있다.)  
데이터를 다 보내고 나면 바로 옆 PC에 토큰을 건네주게 됩니다. 만약 전송할 데이터가 없다면 토큰을 다시 옆 PC에 전달합니다. 이렇게 옆으로 전달하는 방식으로 통신이 이루어지는 겁니다.  
그래서 토큰링에서는 당연히 충돌(Collision)이 발생하지 않습니다. 또 네트워크에 대한 성능을 미리 예측하기도 쉽습니다.

그 대신 단점도 있습니다. 내가 지금 바로 보내야 할 데이터가 있고, 다른 PC들은 보낼 데이터가 하나도 없다고 하더라도 차례가 올 때까지 계속 기다려야 됩니다.  
비록 다른 PC들은 보낼 데이터가 없더라도 토큰은 계속 옆으로만 전달되기 때문입니다. 1990년대 초반까지만 해도 이더넷보다 안정된 기술이라는 주장이 나오면서 토큰링 방식이 인기를 끌던 시절이 있었지만,  
그 후 이더넷의 눈부신 발전으로 이제 토큰링은 역사의 뒤안길로 사라지기 시작했습니다. 참고로 토큰링 방식은 IBM이 처음 개발했습니다.



## UTP 케이블만이라도 제대로 알아볼까요?

네트워크를 구성하면서 가장 자주 만나는 것이 바로 케이블이 아닐까 생각합니다.  
네트워크에 대한 공부를 하려고 하면 무조건 장비만 공부하는 분들이 계신데, 이렇게 열심히 공부하고 막상 네트워크를 설치하러 가보면 자주 문제가 생기는 부분은 장비보다는 케이블인 경우가 많습니다.  
따라서 케이블에 대한 이해는 꼭 필요한 부분일 수밖에 없습니다. 여기서 케이블이란, 전화 케이블이나 전원 케이블이 아니고 통신 케이블을 말합니다. 

이런 통신 케이블들은 장비와 장비의 연결에는 어디에나 들어갑니다.  
즉 PC에서 허브나 스위치까지의 연결, 스위치와 스위치의 연결, 스위치와 라우터의 연결, 라우터와 라우터의 연결 등 네트워크 장비와 네트워크 장비를 연결하기 위해서는 어떤 종류의 케이블이든 반드시 케이블이 들어가게 되는 겁니다.  
이렇게 들어가는 케이블은 광케이블, UTP 케이블, 동축 케이블 등 종류도 가지가지 입니다.

이번에는 이 중에서 우리가 가장 많이 사용하는, 거의 모든 사무실과 게임방이 사용하고 있는 UTP 케이블에 대해서 한번 알아보도록 하겠습니다.

그럼 UTP 케이블의 의미는 무엇일까요? 일단 TP 케이블이란 Twisted-pair, 즉 '꼬인 녀석이다'라는 거죠.  
페어(페어는 한 쌍, 즉 두 가닥을 의미합니다.)가 서로 꼬여 있는 것을 말합니다. 그래서 'TP'라고 하는 겁니다. TP에는 UTP와 STP가 있습니다.

UTP는 Unshielded(언쉴드, 즉 감싸지 않았다는 거겠죠?) TP를 말합니다. 주로 우리가 사용하는 케이블이 바로 이 UTP입니다.  
STP는 Shielded로 케이블의 주위를 어떤 절연체로 감싸서 만든 것을 말합니다. STP가 좀 더 비싸고 성능이 좋다고 합니다. EMI를 줄였다고 하네요.

아무튼 그래도 기존에 워낙 UTP로 구성된 네트워크가 많았기 때문에 결국은 UTP가 중심을 이루게 되었고, STP는 주로 토큰링쪽에 많이 쓰이고 있는 추세입니다.  
자, 그러면 우리가 보통 말하는 카테고리 5나 카테고리 3이니 하는 것은 무엇을 의미하는 것일까요? 말이 나온 김에 카테고리별로 한번 알아볼까요?

- 카테고리 1 : 주로 전화망에 사용하는 용도로 만들어진 케이블입니다. 따라서 데이터 전송용으로는 맞지 않습니다.

- 카테고리 2 : 데이터를 최대 4Mbps의 속도로 전송할 수 있는 능력을 가지고 있는 케이블이라고 합니다.
- 카테고리 3 : 10 Base T 네트워크에 사용되는 케이블입니다. 전에는 UTP 케이블이라고 하면 바로 이 케이블을 이야기할 정도로 일반적인 케이블이었습니다. 최대 10Mbps 속도까지 데이터 전송을 할 수 있습니다.  
  잘만 구성하면 100Mbps 속도에서 적용이 가능한 케이블이지만, 실제로 이 케이블을 가지고 100Mbps를 구성하는 것은 매우 드뭅니다.
- 카테고리 4 : 토큰링 네트워크에서 사용되는 케이블입니다. 최대 16Mbps의 데이터 전송 능력을 가지고 있다고 합니다.
- 카테고리 5 :지금까지는 최대 전송 속도 100Mbps를 지원하는 Fast Ethernet용으로 사용되었습니다. 그런데 얼마 전에 기가비트 표준이 완성되면서 이제 이 케이블로도 기가비트 속도의 데이터 전송이 가능해졌습니다.  
  (이 경우에는 8가닥을 모두 사용해야 가능합니다.)
- 카테고리 6 : 기가비트 이상의 속도에 적합한 케이블입니다. 최근 사용하는 케이블 중 가장 많은 종류가 바로 카테고리 6 케이블이랍니다.  
  카테고리 6케이블은 Cat6와 Cat6a로 구분되는데, 뒤에 나온 Cat6a 케이블이 좀 더 성능이 개선된 케이블이고, 최대 10Gbps를 지원한다고 합니다.
- 카테고리 7 : 주로 10Gbps 속도 이상을 지원하기 위한 케이블로, 아직까지 많이 사용되지 있진 않지만 앞으로 점점 더 많이 사용될 케이블이랍니다.  
  이제 곧 10Gbps가 일반화되고 나면 좀 더 자주 보게 될 케이블이기도 합니다.

여기까지만 알아둬도 TP 케이블에 대한 개념을 잡을 수 있습니다.



## 케이블, 이 정도만 알면

자, 이번에는 우리가 흔히 사용하는 케이블의 종류에는 어떤 것이 있는지 한번 알아보겠습니다. 일단 우리가 케이블 종류를 말할 때는 약간의 법칙이 있습니다.

예를 들어 볼까요?

10 Base T에서 일단 맨 앞에 나오는 10이란 숫자는 속도를 나타냅니다.  
즉 여기서 10이란, 10Mbps의 속도를 지원하는 케이블을 의미합니다. 그다음에 나오는 Base란 말은 이 케이블이 Baseband용 케이블이라는 것을 알려주고 있습니다.  
원래 케이블 종류에는 베이스밴드(Baseband)와 브로드밴드(Broadband)가 있는데, 쉽게 생각해서 베이스밴드는 디지털 방식이고, 브로드밴드는 아날로그 방식이라고 생각하면 됩니다.

자, 그다음은 T라고 되어 있네요. 원래 이 자리에는 케이블의 종류 또는 이 케이블이 전송할 수 있는 최대 거리가 나오게 되어 있습니다.

위의 예, 즉 10 Base T에서는 케이블의 종류가 나온 겁니다. 그래서 T란, TP(Twisted Pair) 케이블이라는 것을 나타냅니다. 이것이 바로 우리가 보통 사용하는 UTP 케이블을 나타냅니다.

만약 맨 뒷자리에서 위에서처럼 글자가 나오지 않고 숫자가 나오면, 예를 들어 '10 Base 5'일 때 맨 뒤에 나오는 숫자는 최대 통신 거리입니다.  
따라서 최대 500미터까지 통신이 가능하다는 것을 뜻합니다.

즉 10 Base 5 케이블은 10M의 속도로 최대 500미터까지 전송이 가능한 케이블을 말합니다.  
그런데 이 케이블은 전에는 많이 썼지만 요즘은 쓰지 않고 있습니다. (너무 두껍고, 전송 거리도 짧고, 게다가 10Mbps 속도밖에 지원하지 않기 때문입니다.)

그럼 말이 나온 김에 요즘 우리가 많이 쓰는 케이블을 한번 알아보겠습니다.

- 10 Base T : 10Mbps로 통신하고, 최대 전송 거리 100미터인 UTP 케이블로, 카테고리 3, 4, 5를 사용할수 있습니다.  
  이 케이블에는 RJ45 잭은 사용해서 연결해 줍니다.
- 10 BASE FL : 10Mbps로 통신하는 케이블인데 광케이블입니다. 즉 뒤에 나오는 FL(Fiber-optic)이 광케이블이란 것을 알려주고 있습니다.  
  이 케이블은 ST 커넥터라는 것을 사용해서 연결하고 광케이블은 싱글 모드 또는 멀티 모드 케이블을 사용합니다.
- 10 Base 2 : 10Mbps로 통신이 가능하고, 최대 200미터(정확히는 185미터)까지 전송이 가능한 케이블입니다.  
  몇 년 전까지만 해도 이 케이블을 사무실에서 가장 많이 사용했습니다. 그런데 요즘은 UTP 케이블에 밀려서 완전히 자취를 감추고 말았습니다.  
  이 케이블은 그냥 'Thin 케이블'이라고도 불렀고 BNC 커넥터를 사용했습니다.  
  혹시 구형 랜카드를 가지고 계신분들은 랜카드에 UTP 잭 말고 동그란 뭔가를 끼우게 되어 있는 것을 볼 수 있는데 바로 그게 10 Base 2가 사용하던 BNC 커넥터를 연결하던 곳입니다.  
  참고로 이 케이블은 전깃줄 두께의 까만색 케이블입니다.
- 10 Base 5 : 10Mbps 통신을 지원하는 케이블이고 최대 거리는 500미터로 두껍게 생겼다고 해서 'Thick 케이블'이라고 부르거나 색이 노랗다고 해서 '옐로우(Yellow) 케이블'이라고 부릅니다.  
  주로 백본 케이블, 즉 중앙망용으로 천장 위에 설치하고 트랜시버 케이블을 이용해서 천장에서 하나씩 뽑아 내린 다음에 PC의 랜카드와 연결했습니다.  
  랜카드 중에 AUI 인터페이스(15핀으로 생긴 사다리꼴 인터페이스)를 가진 것이 바로 이 케이블과 연결하기 위한 인터페이스가 됩니다.
- 100 Base TX : Category 5 UTP 케이블을 사용하는 케이블이고 최대 거리는 100미터, 전송 속도는 100Mbps짜리 케이블입니다.
- 100 Base T2 : 원래 100Mbps 속도를 내려면 위에서처럼 Category 5 케이블을 사용하는데, 100 Base T2 방식을 쓰면 Category 3, 4 ,5를 전부 사용해서 100M를 구현할 수 있다고 합니다.  
  자주 쓰이는 방식은 아니니까 그냥 알아만 두세요.
- 100 Base T4 : Category 3 케이블을 가지고 100Mbps용으로 사용할 때 만드는 케이블입니다.  
  그대신 다른 케이블은 2페어(4가닥)를 사용하지만, 이것은 4페어(8가닥)를 전부 사용한다는 차이점이 있습니다.
- 100 Base FX : 이 케이블은 100Mbps 광케이블을 이용해서 구현하는 건데, 전송 거리가 보통 2km에서 10km까지 가능하고 SC라는 네모난 접속 커넥터를 이용해서 접속합니다.  
  물론 ST(동그랗게 생겨서 돌려서 끼우는 방식)도 사용하지만 일반적이지는 않습니다.
- 1000 Base SX : 이것은 기가비트, 즉 1,000Mbps의 속도가 나는 케이블입니다.  
  Short Wavelen-gth라는 광케이블을 사용하는데, 최대 전송 거리는 약 270미터(62.5micro meter = 1/1,000,000m)에서 550미터(50micro meter) 정도입니다.
- 1000 Base T : 1,000Mbps로 UTP 케이블을 통해 전송하고, 최대 거리는 100미터인 케이블 스펙입니다.  
  Category 5 케이블을 사용하면 됩니다. 기가비트용 UTP 케이블이 Category 5로 결정되었다는 이야기를 전에 한 번 했습니다.  
  그리고 이렇게 구성하기 위해선 4페어(8가닥)를 다 사용한다는 사실도 기억해두기 바랍니다.

기가비트의 경우는 위에 나온 1000 Base SX 외에도 1000 Base LX/LH 같은 스펙은 광케이블을 사용해서 최대 10킬로미터까지도 전송이 가능하도록 구성되어 있습니다.  
여기서 알아두셔야 할 것은 케이블의 경우 속도가 빨라지면 빨라질수록 전송 거리는 점점 짧아진다는 겁니다.  
왜 그런지는 뒤에서 알아보도록 하겠습니다.

지금까지 케이블의 스펙에 대해서 알아봤습니다. 물론 여기서 다루지 않은 것이 더 많습니다.  
하지만 이 정도만 알아두셔도 앞으로 케이블을 다루는데는 충분할 거라고 생각합니다.

![](./img/1-2/ex1.jpg)

케이블 사진입니다. 위쪽 줄이 광케이블입니다. 얇게 생긴 광섬유를 타고 전송이 이루어집니다.  
여기서 광케이블의 한 가닥을 '코어'라고 부르는데, 통신을 위해서는 최소 2코어의 광케이블이 필요합니다. (수신과 송신에 각각 하나씩 필요합니다.)  
따라서 우리는 광케이블을 이야기 할 때 "이게 몇 코어짜리 광케이블이다" 라고 말하곤 합니다.

그다음 가운뎃줄이 우리가 가장 많이 사용하는 UTP 케이블입니다. 보이는 것처럼 좀 꼬여있습니다.  
그림에서는 4가닥으로 보이지만 사실은 8가닥으로 2가닥이 하나로 꼬여있습니다. 그래서 UTP의 T가 바로 Twist, 즉 꼬였다는 뜻이라고 합니다.

그리고 아랫줄의 케이블은 이제는 기억 속에 사라져가는 BNC 케이블(10 Base-2)과 AUI 케이블입니다.  
이제 케이블 업계에서 사라진 녀석들이죠.  
AUI 케이블은 10 Base-5 케이블에 연결해서 사용하는 케이블이라고 생각하시면 쉬울 겁니다. 즉 두꺼운 10 Base-5 케이블을 두고 이 케이블의 중간중간에 '트랜시버'라는 것을 넣은 후 AUI 케이블의 한쪽 끝은 트랜시버에, 또 다른 끝은 PC나 네트워크 장비에 연결하는 겁니다.



## 맥 어드레스(MAC Address)에 대한 이야기

네트워크를 하다 보면 꼭 한 번은 짚고 넘어가야 할 것이 있습니다. 그중 하나가 미디어 액세스 컨트롤(Media Access Control)에 관한 것인데, MAC(맥)이 바로 이것의 준말입니다.

컴퓨터는 네트워크상에서 어떻게 서로를 구분해서 인식할까요? 즉 통신을 위해서는 서로를 구분할 일종의 주소가 필요합니다.  
우리가 편지를 서로 주고받기 위해서 각각의 건물이나 집에 서로 다른 주소가 필요한 것처럼 말입니다. 이 역할을 담당하는 주소가 바로 MAC 주소입니다.

이쯤 해서 네트워크를 조금 공부해보신 분이라면 분명히 어떤 질문 하나가 생각나실 겁니다.  
그것은 바로 IP 주소에 관한 것일 겁니다. 우리가 아는 대로 통신을 위해서 각 장비마다 IP 주소가 분명히 배정되고, 또 그 주소를 가지고 통신을 하는 것 아니냐고 질문을 하게 되실 겁니다.  
맞습니다. 앞에서 배운 대로 인터넷은 TCP/IP로 통신을 하고 따라서 통신을 위해서 IP 주소를 사용합니다. 그럼 이 경우에 맥 어드레스는 사용하지 않는 걸까요?  
일단 답은 '이 경우에도 맥 어드레스를 사용한다'입니다.

우리가 IP 주소를 사용하니까 IP 주소만 있으면 모든 통신이 일어날 것 같지만, 사실은 IP 주소를 다시 MAC으로 바꾸는 절차(이 과정을 ARP: Address Resolution Protocol이라고 합니다.)를 밟고 있는 겁니다.  
본인의 PC에 설치된 랜카드의 맥 어드레스는 ipconfig/all 명령어를 입력한 뒤 나오는 'Physical address' 또는 '물리적 주소'라고 보이는 주소가 바로 자신의 맥 어드레스입니다.

![](./img/1-2/ex2.jpg)

위 그림은 단독 네트워크, 즉 라우터를 거치지 않는 하나의 네트워크 안에서의 통신입니다. (여기서 여러분은 아직 라우터가 뭔지 아실 필요는 없습니다.)

PC Y가 PC Z와 통신을 하려고 합니다.

이때 PC Y는 PC Z의 IP 주소를 알고 있습니다. 그럼 PC Y는 자기가 속한 네트워크에 있는 모든 PC에 메시지를 보냅니다. (이것을 '브로드캐스트'라고 합니다)  
뭐라고 보내냐면, "우리 네트워크에 혹시 Z라는 녀석이 있으면 내가 통신하고 싶으니까 맥 어드레스 좀 알려주라." 이렇게 보냅니다.

이때 Z는 Y와 같은 네트워크에 있기 때문에 Y가 보낸 브로드캐스트를 받았을 겁니다. (원래 같은 네트워크 안에 사는 PC만이 브로드캐스트를 받을 수 있습니다.)  
그럼 Z는 Y에게 자신의 맥 어드레스를 알려주고 되고 Y는 Z의 맥 어드레스를 알아낸 다음에 비로소 통신을 시작하게 되는 겁니다.

![](./img/1-2/ex3.jpg)


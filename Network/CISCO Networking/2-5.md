# IPv6로 떠나는 여행



## 목차

- IPv6, 왜 필요한 걸까요?
- IPv6의 탄생
- 왜 갑자기 IPv4에서 IPv6로 뛰었을까요?
- IPv6에서 무엇이 달라졌냐고 묻는다면...
- IPv6의 주요 특징에 대한 첫 번째 이야기
- IPv6의 주요 특징에 대한 두 번째 이야기
- IPv6 주소는 어떻게 생겼을까요?
- IPv6와의 어색한 동거
- 라우터에서 IPv6의 구성



## IPv6, 왜 필요한 걸까요?

몇 년 전 하지만 그땐 네트워크가 무엇인지만 알아도 괜찮은 시절이었습니다. 하지만 이젠 네트워크도 너무 방대한 분야로 나뉘었고 또 하루가 다르게 변해가고 있습니다. 정말 하루라도 네트워크에 관한 기술의 발전이 멈춘 날이 없는 것 같습니다.

그 많은 네트워킹 기술 중에서 이번에는 IP version 6에 대한 이야길 들려드릴까 합니다.

몇 년 전부터 들리기 시작한 IP version 6(줄여서 IPv6라고 합니다.)는 벌써 우리와 너무도 가까운 곳에 와 있고, 또 곧 우리 모두에게 몰아닥칠 새로운 IP의 세상입니다.

저와 조금 먼저 IPv6에 대해 알아보고 준비하신다면 아마 낯설게 다가온 IPv6가 조금은 더 친숙하게 느껴지지 않을까 생각합니다.

자, 서론은 여기까지만 하구요. 이야기 시작합니다.

그럼 먼저 IPv6가 왜 나왔는지부터 차근차근 알아보도록 하겠습니다. 이미 눈치채셨겠지만 IPv6의 출현 이유 첫 번째는 IPv4 주소의 주소 공간 부족입니다.

1981년도부터 본격적으로 사용하게 되었던 IP version 4는 1985년에는 전체 주소의 1/16을 사용했으니 그때까지만 해도 주소 부족을 걱정할 필요는 없었을 겁니다. 그런데 1991년 World Wide Web이란 게 개발되고, 1993년엔(이젠 우리의 아련한 기억 속에 웹 브라우저의 할아버지로 기억되고 있는) 모자이크(Mosaic)가 발표되었습니다.  
그러다 보니 IP 주소의 사용이 점점 늘어나게 되면서 1995년에는 전체 주소의 1/3을, 2000년에는 1/2를 사용하게 되었습니다.

아시다시피 IPv4는 32비트 주소 체계니까 이론적으로 2<sup>32</sup> 만큼의 주소를 만들 수 있습니다.

그게 얼마냐구요?

약 43억 개 정도가 됩니다.

그러나 그걸 다 쓸 수는 없답니다. 일단 중간중간에 Private용 등으로 예약된 주소 영역이 있구요. 또 클래스 E는 연구용으로 사용되니 막상 쓸 수 있는 주소는 훨씬 적은 수가 되겠죠. 따라서 현실적으로 배정이 가능한 IP 주소는 약 2억 5,000만 개 정도밖엔 되지 않는다고 합니다.

정말 적죠?

2억 5천만 개가 왜 적냐구요? 그 정도면 충분하지 않냐구요?

그렇지 않습니다.

현재 네트워크의 수는 매년 약 2배로 증가하고 있답니다. 이와 함께 인터넷의 사용자와 장비 역시 기하급수적으로 늘어나고 있습니다.

2001년도 현재 인터넷 사용자 수는 약 4억 2천만 명이라고 하니까 벌써 공인주소의 약 2배 정도의 수가 인터넷을 쓰는 겁니다만, 4억 명이라고 해봐야 전 세계 인구의 1/10도 안 되는 수입니다.  
게다가 중국이나 인도, 러시아 등 인구가 무지하게 많은 나라들이 인터넷을 쓰기 시작했다고 하니, 이제 IP 주소의 부족은 불 보듯 뻔해지게 된 겁니다.

여러분께서도 동의하시죠?

그런데 문제는 이렇게 IP 주소를 사용하는 사람들이 늘어난다는 것이죠. 게다가 기존에 IP 주소를 주로 사용하던 PC나 컴퓨터뿐만 아니라 새로운 장비들이 자꾸 IP 주소를 사용하려고 한다는 것입니다. IP 전화기 아시죠? 언제부턴가 사무실 책상 위에 떡 하니 자리잡기 시작한 IP 전화기는 앞으로 몇 년 내에 일반 전화기들을 몰아낼 기세로 그 세력(?)이 커지고 있답니다.  
게다가 집에서는 인터넷 전화기라는 이름으로 전화기에 IP 주소를 하나씩 붙여서 나타난 애들이 저렴한 통화료를 내세워 집 전화를 집 밖으로 쫓아내기 시작했답니다. "집 나가면 개고생"이라고 하면서 말입니다.

TV도 바뀌고 있죠? IPTV로 말입니다. 그러고 보면 이제 IP란 말은 너무나도 흔하게 사용하는 말이 되어 버렸습니다. 초등학교 애들조차도 "아빠, 우리도 IPTV 설치하자."라고 이야기하는 걸 보면 말입니다.

아무튼 이런 추세라면 IP 주소는 곧 고갈 상태가 된다는 게 현재의 예측이랍니다.

우리에게는 이미 쓸 만한 IPv4 주소는 남아있지 않아 어떤 식으로든 주소 공간 확장에 대한 조치를 내릴 때가 온 겁니다.

이렇게 주소 공간 부족 이외에도 IP version 4의 문제점은 몇 가지 더 있을 수 있습니다.

현재 IP version 4가 가지고 있는 복잡한 헤더(Header)는 전체 필드를 불필요하게 늘리게 했고, 라우터로 하여금 효과적인 헤더 관리를 할 수 없게 한다는 문제를 낳기도 했습니다. 뿐만 아니라 IP 주소 배정 방식이 복잡하다는 문제도 있습니다.  
물론 DHCP(DHCP 다들 아시죠?)를 사용해서 이 문제를 해결할 수 있었지만 또 다른 서버의 구성이라는 오버헤드를 필요로 하게 되었습니다.
